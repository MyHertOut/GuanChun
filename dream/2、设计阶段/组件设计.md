# ã€Šå® é­…ï¼šçµé­‚ç¾ç»Šã€‹ç»„ä»¶è®¾è®¡

## 1. ç»„ä»¶è®¾è®¡åŸåˆ™

### 1.1 è®¾è®¡åŸåˆ™

- **å•ä¸€èŒè´£**: æ¯ä¸ªç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½
- **å¯å¤ç”¨æ€§**: é€šç”¨ç»„ä»¶å¯åœ¨å¤šå¤„ä½¿ç”¨
- **å¯ç»„åˆæ€§**: ç»„ä»¶å¯ä»¥ç»„åˆä½¿ç”¨
- **å¯æµ‹è¯•æ€§**: ç»„ä»¶æ˜“äºæµ‹è¯•
- **æ€§èƒ½ä¼˜åŒ–**: é¿å…ä¸å¿…è¦çš„æ¸²æŸ“

### 1.2 å‘½åè§„èŒƒ

- **ç»„ä»¶æ–‡ä»¶**: PascalCase (`BattleView.vue`)
- **ç»„ä»¶æ ‡ç­¾**: kebab-case (`<battle-view />`)
- **Props/Emits**: camelCase

---

## 2. é€šç”¨ç»„ä»¶

### 2.1 Button (æŒ‰é’®)

**æ–‡ä»¶**: `components/Common/Button.vue`

**Props**:
```typescript
interface Props {
  type?: 'primary' | 'secondary' | 'danger' | 'ghost'
  size?: 'sm' | 'md' | 'lg'
  disabled?: boolean
  loading?: boolean
  icon?: string
  block?: boolean
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <!-- ä¸»è¦æŒ‰é’® -->
  <Button type="primary" @click="handleSave">ä¿å­˜</Button>

  <!-- å±é™©æŒ‰é’® -->
  <Button type="danger" @click="handleDelete">åˆ é™¤</Button>

  <!-- å¸¦å›¾æ ‡ -->
  <Button type="primary" icon="save">ä¿å­˜</Button>

  <!-- åŠ è½½ä¸­ -->
  <Button type="primary" :loading="true">æäº¤ä¸­...</Button>

  <!-- å—çº§æŒ‰é’® -->
  <Button type="primary" block>å®Œæ•´å®½åº¦</Button>
</template>
```

### 2.2 Modal (å¼¹çª—)

**æ–‡ä»¶**: `components/Common/Modal.vue`

**Props**:
```typescript
interface Props {
  show: boolean
  title?: string
  width?: string
  closable?: boolean
  maskClosable?: boolean
  showFooter?: boolean
}
```

**Emits**:
```typescript
{
  'update:show': (show: boolean) => void
  'ok': () => void
  'cancel': () => void
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <Modal
    v-model:show="showModal"
    title="ç¡®è®¤åˆ é™¤"
    width="500px"
    @ok="handleOk"
    @cancel="handleCancel"
  >
    <p>ç¡®å®šè¦åˆ é™¤è¿™ä¸ªé­‚å® å—ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚</p>
  </Modal>
</template>

<script setup lang="ts">
const showModal = ref(true)

const handleOk = () => {
  console.log('ç¡®è®¤')
  showModal.value = false
}

const handleCancel = () => {
  console.log('å–æ¶ˆ')
  showModal.value = false
}
</script>
```

### 2.3 Toast (æç¤º)

**æ–‡ä»¶**: `components/Common/Toast.vue`

**Props**:
```typescript
interface Props {
  message: string
  type: 'success' | 'error' | 'warning' | 'info'
  duration?: number
  position?: 'top' | 'bottom' | 'top-left' | 'top-right'
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<script setup lang="ts">
import { useUiStore } from '@/stores/ui'

const uiStore = useUiStore()

// æ˜¾ç¤ºæç¤º
const showSuccess = () => {
  uiStore.showToast('æ“ä½œæˆåŠŸ', 'success')
}

const showError = () => {
  uiStore.showToast('æ“ä½œå¤±è´¥', 'error')
}
</script>
```

### 2.4 ProgressBar (è¿›åº¦æ¡)

**æ–‡ä»¶**: `components/Common/ProgressBar.vue`

**Props**:
```typescript
interface Props {
  value: number
  max: number
  color?: string
  showLabel?: boolean
  height?: string
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <!-- HP è¿›åº¦æ¡ -->
  <ProgressBar
    :value="pet.hp"
    :max="pet.maxHp"
    color="#ef4444"
    show-label
    height="20px"
  >
    HP: {{ pet.hp }} / {{ pet.maxHp }}
  </ProgressBar>

  <!-- ç»éªŒè¿›åº¦æ¡ -->
  <ProgressBar
    :value="pet.exp"
    :max="pet.maxExp"
    color="#3b82f6"
    show-label
  >
    EXP: {{ pet.exp }} / {{ pet.maxExp }}
  </ProgressBar>
</template>
```

### 2.5 Card (å¡ç‰‡)

**æ–‡ä»¶**: `components/Common/Card.vue`

**Props**:
```typescript
interface Props {
  title?: string
  shadow?: 'none' | 'sm' | 'md' | 'lg'
  hoverable?: boolean
  bordered?: boolean
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <Card title="é­‚å® ä¿¡æ¯" hoverable>
    <div class="pet-info">
      <img :src="petImage" :alt="pet.name" />
      <h3>{{ pet.name }}</h3>
      <p>{{ pet.description }}</p>
    </div>
  </Card>
</template>
```

### 2.6 LoadingSpinner (åŠ è½½åŠ¨ç”»)

**æ–‡ä»¶**: `components/Common/LoadingSpinner.vue`

**Props**:
```typescript
interface Props {
  size?: 'sm' | 'md' | 'lg'
  text?: string
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <div v-if="loading" class="loading-container">
    <LoadingSpinner size="lg" text="åŠ è½½ä¸­..." />
  </div>
</template>
```

### 2.7 EmptyState (ç©ºçŠ¶æ€)

**æ–‡ä»¶**: `components/Common/EmptyState.vue`

**Props**:
```typescript
interface Props {
  icon?: string
  title?: string
  description?: string
  actionText?: string
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <EmptyState
    icon="pet"
    title="è¿˜æ²¡æœ‰é­‚å® "
    description="å»æ¢ç´¢å§ï¼Œå¯»æ‰¾ä½ çš„ç¬¬ä¸€åªé­‚å® ï¼"
    action-text="å¼€å§‹æ¢ç´¢"
    @action="handleExplore"
  />
</template>
```

---

## 3. æˆ˜æ–—ç»„ä»¶

### 3.1 BattleView (æˆ˜æ–—ä¸»è§†å›¾)

**æ–‡ä»¶**: `components/Battle/BattleView.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºæˆ˜æ–—åœºæ™¯
- ç®¡ç†æˆ˜æ–—æµç¨‹
- å¤„ç†ç”¨æˆ·è¾“å…¥
- æ˜¾ç¤ºæˆ˜æ–—ç»“æœ

**Props**:
```typescript
interface Props {
  battleId: string
}
```

**ç»„ä»¶ç»“æ„**:
```vue
<template>
  <div class="battle-view">
    <!-- æ•Œæ–¹ä¿¡æ¯ -->
    <EnemyPanel :pet="enemyPet" />

    <!-- æˆ˜æ–—åœºæ™¯ -->
    <BattleScene
      :player-pet="playerPet"
      :enemy-pet="enemyPet"
      :is-animating="isAnimating"
    />

    <!-- æˆ‘æ–¹ä¿¡æ¯ -->
    <PlayerPanel :pet="playerPet" :player="player" />

    <!-- æ“ä½œé¢æ¿ -->
    <ActionPanel
      :disabled="!isPlayerTurn || isAnimating"
      :skills="availableSkills"
      @attack="handleAttack"
      @skill="handleSkill"
      @defend="handleDefend"
      @item="handleItem"
    />

    <!-- æˆ˜æ–—æ—¥å¿— -->
    <BattleLog :logs="battleLogs" />

    <!-- æˆ˜æ–—ç»“æœå¼¹çª— -->
    <BattleResultModal
      v-model:show="showResult"
      :result="battleResult"
      @restart="handleRestart"
      @exit="handleExit"
    />
  </div>
</template>
```

### 3.2 PetStatus (é­‚å® çŠ¶æ€)

**æ–‡ä»¶**: `components/Battle/PetStatus.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºé­‚å® å¤´åƒ
- æ˜¾ç¤ºå±æ€§æ¡ (HP, Stamina)
- æ˜¾ç¤ºçŠ¶æ€æ•ˆæœ

**Props**:
```typescript
interface Props {
  pet: PetInstance
  isEnemy?: boolean
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <div class="pet-status" :class="{ 'is-enemy': isEnemy }">
    <div class="pet-avatar">
      <img :src="pet.avatar" :alt="pet.name" />
      <span class="level-badge">Lv.{{ pet.level }}</span>
    </div>

    <div class="pet-info">
      <h3 class="pet-name">{{ pet.name }}</h3>
      <span class="pet-rank">{{ pet.rank }}</span>
    </div>

    <div class="status-bars">
      <ProgressBar
        :value="pet.hp"
        :max="pet.maxHp"
        color="#ef4444"
        label="HP"
      />
      <ProgressBar
        :value="pet.stamina"
        :max="pet.maxStamina"
        color="#3b82f6"
        label="SP"
      />
    </div>

    <div class="status-effects">
      <span
        v-for="effect in pet.statusEffects"
        :key="effect.type"
        class="effect-badge"
        :class="`effect-${effect.type}`"
      >
        {{ effectLabel(effect.type) }}
      </span>
    </div>
  </div>
</template>
```

### 3.3 BattleLog (æˆ˜æ–—æ—¥å¿—)

**æ–‡ä»¶**: `components/Battle/BattleLog.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºæˆ˜æ–—æ—¥å¿—
- è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
- ä¸åŒç±»å‹æ—¥å¿—æ ·å¼

**Props**:
```typescript
interface Props {
  logs: BattleLog[]
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <div class="battle-log" ref="logContainer">
    <div
      v-for="log in logs"
      :key="log.id"
      class="log-entry"
      :class="`log-${log.type} log-${log.source}`"
    >
      <span class="log-round">[{{ log.round }}]</span>
      <span class="log-message">{{ log.message }}</span>
      <span v-if="log.value" class="log-value">{{ log.value }}</span>
      <span class="log-time">{{ formatTime(log.timestamp) }}</span>
    </div>
  </div>
</template>

<script setup lang="ts">
import { watch, nextTick } from 'vue'

const props = defineProps<Props>()
const logContainer = ref<HTMLElement>()

// è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨
watch(() => props.logs.length, async () => {
  await nextTick()
  if (logContainer.value) {
    logContainer.value.scrollTop = logContainer.value.scrollHeight
  }
})

const formatTime = (timestamp: string) => {
  return new Date(timestamp).toLocaleTimeString()
}
</script>
```

### 3.4 SkillPanel (æŠ€èƒ½é¢æ¿)

**æ–‡ä»¶**: `components/Battle/SkillPanel.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºå¯ç”¨æŠ€èƒ½
- æ˜¾ç¤ºæŠ€èƒ½æ¶ˆè€—
- æŠ€èƒ½é€‰æ‹©

**Props**:
```typescript
interface Props {
  skills: SkillData[]
  disabled?: boolean
}
```

**Emits**:
```typescript
{
  'skill': (skillId: string) => void
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <div class="skill-panel">
    <h3>æŠ€èƒ½</h3>
    <div class="skill-list">
      <div
        v-for="skill in skills"
        :key="skill.id"
        class="skill-item"
        :class="{
          'disabled': disabled || skill.cost > currentStamina
        }"
        @click="handleSkill(skill.id)"
      >
        <div class="skill-icon">
          <img :src="skill.icon" :alt="skill.name" />
        </div>
        <div class="skill-info">
          <h4>{{ skill.name }}</h4>
          <p class="skill-desc">{{ skill.description }}</p>
        </div>
        <div class="skill-cost">
          <span class="cost-icon">âš¡</span>
          <span>{{ skill.cost }}</span>
        </div>
      </div>
    </div>
  </div>
</template>
```

### 3.5 BattleAction (æˆ˜æ–—æ“ä½œ)

**æ–‡ä»¶**: `components/Battle/BattleAction.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºå¯ç”¨æ“ä½œ
- æ“ä½œæŒ‰é’® (æ”»å‡»ã€æŠ€èƒ½ã€é“å…·ã€é˜²å¾¡)

**Props**:
```typescript
interface Props {
  disabled?: boolean
  canAttack?: boolean
  canUseSkill?: boolean
  canUseItem?: boolean
}
```

**Emits**:
```typescript
{
  'attack': () => void
  'skill': () => void
  'item': () => void
  'defend': () => void
}
```

---

## 4. é­‚å® ç»„ä»¶

### 4.1 PetCard (é­‚å® å¡ç‰‡)

**æ–‡ä»¶**: `components/Pet/PetCard.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºé­‚å® åŸºæœ¬ä¿¡æ¯
- æ˜¾ç¤ºå±æ€§å’Œç­‰çº§
- å¿«æ·æ“ä½œ

**Props**:
```typescript
interface Props {
  pet: PetInstance
  active?: boolean
  selectable?: boolean
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <Card
    class="pet-card"
    :class="{ 'is-active': active, 'is-selectable': selectable }"
    hoverable
    @click="handleClick"
  >
    <div class="pet-header">
      <img :src="pet.avatar" :alt="pet.name" class="pet-avatar" />
      <div class="pet-info">
        <h3>{{ pet.nickname || pet.name }}</h3>
        <span class="pet-rank">{{ pet.rank }}</span>
      </div>
      <span v-if="active" class="active-badge">å‡ºæˆ˜ä¸­</span>
    </div>

    <div class="pet-stats">
      <div class="stat-item">
        <span class="stat-label">ç­‰çº§</span>
        <span class="stat-value">{{ pet.level }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">å¿ è¯šåº¦</span>
        <span class="stat-value">{{ pet.loyalty }}%</span>
      </div>
    </div>

    <ProgressBar
      :value="pet.hp"
      :max="pet.maxHp"
      color="#ef4444"
      label="HP"
      height="8px"
    />

    <div class="pet-elements">
      <span
        v-for="element in pet.elements"
        :key="element"
        class="element-badge"
      >
        {{ element }}
      </span>
    </div>
  </Card>
</template>
```

### 4.2 PetDetail (é­‚å® è¯¦æƒ…)

**æ–‡ä»¶**: `components/Pet/PetDetail.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºé­‚å® å®Œæ•´ä¿¡æ¯
- å±æ€§å±•ç¤º
- æŠ€èƒ½åˆ—è¡¨
- è¿›åŒ–æ ‘

**Props**:
```typescript
interface Props {
  pet: PetInstance
}
```

**ç»„ä»¶ç»“æ„**:
```vue
<template>
  <div class="pet-detail">
    <!-- åŸºæœ¬ä¿¡æ¯ -->
    <PetInfoSection :pet="pet" />

    <!-- å±æ€§å±•ç¤º -->
    <PetStatsSection :pet="pet" />

    <!-- æŠ€èƒ½åˆ—è¡¨ -->
    <SkillList :skills="pet.learnedSkills" />

    <!-- è¿›åŒ–æ ‘ -->
    <EvolutionTree :pet="pet" :evolutions="pet.evolutions" />

    <!-- æ“ä½œæŒ‰é’® -->
    <div class="pet-actions">
      <Button type="primary" @click="handleTrain">è®­ç»ƒ</Button>
      <Button type="secondary" @click="handleEvolve">å¼‚å˜</Button>
      <Button type="secondary" @click="handleSwitch">åˆ‡æ¢</Button>
    </div>
  </div>
</template>
```

### 4.3 PetEvolution (å¼‚å˜ç•Œé¢)

**æ–‡ä»¶**: `components/Pet/PetEvolution.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºå¯å¼‚å˜è·¯å¾„
- å¼‚å˜æ¡ä»¶å±•ç¤º
- å¼‚å˜åŠ¨ç”»

**Props**:
```typescript
interface Props {
  pet: PetInstance
  evolutions: Evolution[]
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <div class="pet-evolution">
    <h2>å¼‚å˜</h2>

    <div class="evolution-paths">
      <div
        v-for="evolution in evolutions"
        :key="evolution.targetId"
        class="evolution-path"
      >
        <div class="evolution-conditions">
          <h4>æ¡ä»¶</h4>
          <ul>
            <li v-if="evolution.condition.minLevel">
              ç­‰çº§ >= {{ evolution.condition.minLevel }}
            </li>
            <li v-if="evolution.condition.itemNeeded">
              éœ€è¦ {{ evolution.condition.itemNeeded }}
            </li>
            <li v-if="evolution.condition.environment">
              ç¯å¢ƒ: {{ evolution.condition.environment }}
            </li>
          </ul>
        </div>

        <div class="evolution-arrow">â†’</div>

        <div class="evolution-target">
          <h4>ç›®æ ‡</h4>
          <p>{{ evolution.targetName }}</p>
          <p class="target-rank">{{ evolution.targetRank }}</p>
        </div>

        <Button
          type="primary"
          :disabled="!canEvolve(evolution)"
          @click="handleEvolve(evolution)"
        >
          å¼€å§‹å¼‚å˜
        </Button>
      </div>
    </div>
  </div>
</template>
```

### 4.4 PetDex (é­‚å® å›¾é‰´)

**æ–‡ä»¶**: `components/Pet/PetDex.vue`

**åŠŸèƒ½**:
- é­‚å® å›¾é‰´åˆ—è¡¨
- ç­›é€‰å’Œæœç´¢
- è§£é”çŠ¶æ€æ˜¾ç¤º

**Props**:
```typescript
interface Props {
  pets: PetData[]
  unlocked: Set<string>
  captured: Set<string>
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <div class="pet-dex">
    <!-- æœç´¢å’Œç­›é€‰ -->
    <div class="dex-filters">
      <input
        v-model="searchQuery"
        type="text"
        placeholder="æœç´¢é­‚å® ..."
        class="search-input"
      />
      <select v-model="selectedRank" class="rank-filter">
        <option value="">å…¨éƒ¨ç§æ—</option>
        <option v-for="rank in ranks" :key="rank" :value="rank">
          {{ rank }}
        </option>
      </select>
      <select v-model="selectedElement" class="element-filter">
        <option value="">å…¨éƒ¨å±æ€§</option>
        <option v-for="element in elements" :key="element" :value="element">
          {{ element }}
        </option>
      </select>
    </div>

    <!-- é­‚å® åˆ—è¡¨ -->
    <div class="dex-grid">
      <div
        v-for="pet in filteredPets"
        :key="pet.id"
        class="dex-item"
        :class="{
          'locked': !unlocked.has(pet.id),
          'captured': captured.has(pet.id)
        }"
        @click="handlePetClick(pet)"
      >
        <div class="dex-image">
          <img
            v-if="unlocked.has(pet.id)"
            :src="pet.image"
            :alt="pet.name"
          />
          <span v-else class="lock-icon">ğŸ”’</span>
        </div>
        <div class="dex-info">
          <h4>{{ unlocked.has(pet.id) ? pet.name : '???' }}</h4>
          <span class="dex-rank">{{ pet.rank }}</span>
          <div class="dex-elements">
            <span
              v-for="element in pet.elements"
              :key="element"
              class="element-icon"
            >
              {{ element }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>
```

---

## 5. ç©å®¶ç»„ä»¶

### 5.1 PlayerInfo (ç©å®¶ä¿¡æ¯)

**æ–‡ä»¶**: `components/Player/PlayerInfo.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºç©å®¶åŸºæœ¬ä¿¡æ¯
- æ˜¾ç¤ºé­‚åŠ›å€¼
- æ˜¾ç¤ºé‡‘å¸

**Props**:
```typescript
interface Props {
  player: Player
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <Card class="player-info">
    <div class="player-header">
      <img :src="player.avatar" :alt="player.name" class="player-avatar" />
      <div class="player-details">
        <h2>{{ player.name }}</h2>
        <span class="player-level">{{ player.level }}</span>
      </div>
    </div>

    <div class="player-stats">
      <div class="stat-row">
        <span class="stat-label">é­‚åŠ›</span>
        <ProgressBar
          :value="player.soulPower"
          :max="player.maxSoulPower"
          color="#8b5cf6"
          show-label
        />
      </div>
      <div class="stat-row">
        <span class="stat-label">é‡‘å¸</span>
        <span class="gold-value">{{ player.gold }}</span>
      </div>
    </div>
  </Card>
</template>
```

### 5.2 Inventory (èƒŒåŒ…)

**æ–‡ä»¶**: `components/Player/Inventory.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºç‰©å“åˆ—è¡¨
- ç‰©å“åˆ†ç±»
- ç‰©å“ä½¿ç”¨

**Props**:
```typescript
interface Props {
  items: InventoryItem[]
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <div class="inventory">
    <h2>èƒŒåŒ…</h2>

    <!-- ç‰©å“åˆ†ç±»æ ‡ç­¾ -->
    <div class="inventory-tabs">
      <button
        v-for="category in categories"
        :key="category"
        class="tab-button"
        :class="{ 'active': activeCategory === category }"
        @click="activeCategory = category"
      >
        {{ category }}
      </button>
    </div>

    <!-- ç‰©å“åˆ—è¡¨ -->
    <div class="inventory-grid">
      <div
        v-for="item in filteredItems"
        :key="item.itemId"
        class="inventory-item"
        @click="handleItemClick(item)"
      >
        <img :src="item.icon" :alt="item.name" class="item-icon" />
        <div class="item-info">
          <h4>{{ item.name }}</h4>
          <p>{{ item.description }}</p>
        </div>
        <span class="item-quantity">x{{ item.quantity }}</span>
      </div>
    </div>
  </div>
</template>
```

### 5.3 SavePanel (å­˜æ¡£ç®¡ç†)

**æ–‡ä»¶**: `components/Player/SavePanel.vue`

**åŠŸèƒ½**:
- æ˜¾ç¤ºå­˜æ¡£åˆ—è¡¨
- ä¿å­˜æ¸¸æˆ
- åŠ è½½å­˜æ¡£
- åˆ é™¤å­˜æ¡£

**Props**:
```typescript
interface Props {
  saves: Save[]
}
```

**ä½¿ç”¨ç¤ºä¾‹**:
```vue
<template>
  <div class="save-panel">
    <div class="save-header">
      <h2>å­˜æ¡£</h2>
      <Button type="primary" @click="handleSave">
        ä¿å­˜å½“å‰è¿›åº¦
      </Button>
    </div>

    <div class="save-list">
      <div
        v-for="save in saves"
        :key="save.saveId"
        class="save-item"
      >
        <img :src="save.screenshot" class="save-screenshot" />
        <div class="save-info">
          <h3>{{ save.saveName }}</h3>
          <p>{{ save.playerName }} - {{ save.playerLevel }}</p>
          <p class="save-time">{{ formatTime(save.timestamp) }}</p>
        </div>
        <div class="save-actions">
          <Button size="sm" @click="handleLoad(save.saveId)">
            åŠ è½½
          </Button>
          <Button size="sm" type="danger" @click="handleDelete(save.saveId)">
            åˆ é™¤
          </Button>
        </div>
      </div>
    </div>
  </div>
</template>
```

---

## 6. ç»„ä»¶é€šä¿¡

### 6.1 Props vs Emits

| åœºæ™¯ | æ¨èæ–¹å¼ |
|------|---------|
| çˆ¶â†’å­æ•°æ®ä¼ é€’ | Props |
| å­â†’çˆ¶äº‹ä»¶é€šçŸ¥ | Emits |
| çˆ¶â†’å­æ–¹æ³•è°ƒç”¨ | Ref + expose |
| è·¨å±‚çº§é€šä¿¡ | Provide/Inject |
| å…¨å±€çŠ¶æ€ | Pinia Store |

### 6.2 Provide/Inject ç¤ºä¾‹

```vue
<!-- çˆ¶ç»„ä»¶ -->
<script setup lang="ts">
import { provide, ref } from 'vue'

const theme = ref('dark')

provide('theme', theme)
</script>

<!-- å­ç»„ä»¶ -->
<script setup lang="ts">
import { inject } from 'vue'

const theme = inject('theme', ref('light'))
</script>
```

---

## 7. ç»„ä»¶æ€§èƒ½ä¼˜åŒ–

### 7.1 v-once

```vue
<template>
  <!-- é™æ€å†…å®¹åªæ¸²æŸ“ä¸€æ¬¡ -->
  <div v-once>
    <h1>å® é­…ï¼šçµé­‚ç¾ç»Š</h1>
    <p>ç‰ˆæœ¬ 1.0.0</p>
  </div>
</template>
```

### 7.2 v-memo

```vue
<template>
  <!-- åªåœ¨ä¾èµ–å˜åŒ–æ—¶é‡æ–°æ¸²æŸ“ -->
  <div v-memo="[pet.id, pet.level]">
    {{ pet.name }} - Lv.{{ pet.level }}
  </div>
</template>
```

### 7.3 åŠ¨æ€ç»„ä»¶

```vue
<template>
  <!-- åŠ¨æ€åŠ è½½ç»„ä»¶ -->
  <component :is="currentComponent" />
</template>

<script setup lang="ts">
import { defineAsyncComponent } from 'vue'

const components = {
  PetDetail: defineAsyncComponent(() => import('./PetDetail.vue')),
  PetEvolution: defineAsyncComponent(() => import('./PetEvolution.vue'))
}

const currentComponent = ref(components.PetDetail)
</script>
```

---

## 8. ç»„ä»¶æµ‹è¯•

### 8.1 å•å…ƒæµ‹è¯•ç¤ºä¾‹

```typescript
// components/Pet/__tests__/PetCard.spec.ts
import { mount } from '@vue/test-utils'
import PetCard from '../PetCard.vue'

describe('PetCard.vue', () => {
  it('renders pet name', () => {
    const pet = {
      uid: 'pet-1',
      name: 'æœˆå…‰ç‹',
      level: 5
    }

    const wrapper = mount(PetCard, {
      props: { pet }
    })

    expect(wrapper.text()).toContain('æœˆå…‰ç‹')
    expect(wrapper.text()).toContain('Lv.5')
  })

  it('emits click event', async () => {
    const pet = { uid: 'pet-1', name: 'æœˆå…‰ç‹', level: 5 }
    const wrapper = mount(PetCard, { props: { pet } })

    await wrapper.trigger('click')

    expect(wrapper.emitted('click')).toBeTruthy()
  })
})
```

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**åˆ›å»ºæ—¥æœŸ**: 2026-01-04
**ç»´æŠ¤äººå‘˜**: å‰ç«¯å›¢é˜Ÿ
